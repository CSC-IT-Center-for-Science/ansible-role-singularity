---
# defaults file for ansible-role-singularity

singularity_install_package: True
singularity_packages:
  - singularity
  - singularity-slurm

singularity_config_dir: "/etc/singularity"
# These settings are defaults in the 2.2.99-0.1.el7 RPM
singularity_allow_setuid: "yes"
singularity_enable_overlay: "no"
singularity_user_bind_control: "yes"
singularity_container_dir: "/var/lib/singularity/mnt"
# This is not the best way, to change more settings you need
# to overwrite the whole singularity_settings variable
# in for example group_vars
singularity_settings:
 - allow setuid = {{ singularity_allow_setuid }}
 - allow pid ns = yes
 - allow user image = yes
 - protected image mode = none
 - enable overlay = {{Â singularity_enable_overlay }}
 - config passwd = yes
 - config group = yes
 - config resolv_conf = yes
 - mount proc = yes
 - mount sys = yes
 - mount dev = yes
 - mount home = yes
 - mount tmp = yes
 - mount hostfs = no
 - bind path = /etc/hosts
 - user bind control = {{ singularity_user_bind_control }}
 - mount slave = yes
 - container dir = {{ singularity_container_dir }}
 - singularity user = singularity
